(function($) {
  $.fn.lightTabs = function() {
    return this.each(function() {
      var a = $(this),
      b = location.hash,
      c = ".",
      d = "light-tab",
      e = d + "s",
      f = "> ul." + e + "-nav > li > a",
      g = d + "-",
      h = g + "open",
      i = g + "opened",
      j = g + "closed",
      k = g + "current";
      a.addClass(e);
      a.find(f).bind(h, function() {
        l = $(this), m = l.data(e), b = l.attr("href");
        m.find("> " + c + d).addClass(j).removeClass(i);
        m.find(f + c + k).removeClass(k);
        l.addClass(k);
        m.find(b).addClass(i).removeClass(j)
      }).bind('click', function() {
        l = $(this);
        l.hasClass(k) || l.trigger(h);
        return!1
      }).data(e, a);
      n = a.find(f + "[href=\"" + b + "\"]");
      console.log();
      (n.length ? n : a.find(f.replace(" li ", "li:first "))).trigger(h)
    })
  }
})(jQuery);